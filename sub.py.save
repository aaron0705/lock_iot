import paho.mqtt.client as mqtt
from Crypto.Cipher import AES

key = 
iv = "12345678901234567890123456789012"
topic = "pi/smarthome"

def on_connect(client, userdate, flags, rc):
	print("Connected with result code " + str(rc))
	client.subscribe(topic)

def on_message(client, userdata, message):
    	print("Message received: ", message.payload.decode())

def main():
	broker = "piserver"
	port = 1883
	client = mqtt.Client()
	client.on_message = on_message
	client.on_connect = on_connect
	client.connect('localhost', 1883, 60)
	client.loop_forever()

if __name__ == "__main__":
	main()
